<html lang="en"><head>
	<script src = 'http://code.jquery.com/jquery-1.11.0.min.js'/>
	<script type="text/javascript"/>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery UI Draggable - Default functionality</title>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="/resources/demos/style.css">
	<style>
	#draggable { width: 150px; height: 150px; padding: 0.5em; }
	</style>
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script>
	$( function() {
		$( "#draggable" ).draggable();
	} );
	</script>
</head>



<form>
<input id="textbox" type="text" name="URL">
</form>
<button id="button" onclick="duplicate()">clone</button>

<body style="cursor: auto;">

<div id="draggable" class="ui-widget-content ui-draggable ui-draggable-handle" style="position: absolute; left: 673px; top: 280px;">
	<img src= 'assets/shinyball.png' onclick = 'myfunc(myiFrame)'/>
	<div>
	<iframe id="myiFrame" src="http://w3schools.com"></iframe>
	</div>
</div>

		
		
</div>




</body>
<script>
var count = 0;
function myfunc(id){
	count += 1;
	if(count % 2 == 1){
		$(id).hide();
	}
	else $(id).show();
}

document.getElementById('button').onclick = duplicate;
var i = 0;
var original = document.getElementById('draggable');

function duplicate() {
    var clone = original.cloneNode(true); // "deep" clone
    clone.id = "draggable" + ++i; // there can only be one element with an ID
    original.parentNode.appendChild(clone);  
	
	var newURL = document.getElementById('textbox').value;
	//newURL = 'http://' + newURL;
	
	var inner = "<img src= 'assets/shinyball.png' onclick = 'myfunc(" + "myiFrame" + i 
				+ ")'/> <div> <iframe id=" + "myiFrame" + i +  " src='http://w3schools.com'></iframe> </div>";
	document.getElementById(clone.id).innerHTML = inner;
	window.console.log(inner);
	
	window.console.log(document.getElementById("myiFrame" + i));
	window.console.log(document.getElementById(clone.id).innerHTML);
	document.getElementById("myiFrame" + i).src = newURL;
	
	$(function() {
		$("#".concat(clone.id)).draggable();
		
	} );

}
</script>
</html>
